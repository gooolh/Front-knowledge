## 计算机网络

### 三次握手

1. 第一次握手：client 将标志位SYN(Synchronized：同步的)置为1，然后生成一个数seq(sequence：序列号)=x 并将数据包发送给server,client进入SYN-SENT状态,等待server的确认

   第二次握手：server收到client请求后，将SYN和ACK( Acknowledgment：答复)标志位置为1，ack=x+1 ,然后生成一个数seq=y,并将数据包发送给client,server进入SYN-RCVD状态,

   第三次握手：client收到确认后，检查ack是否为x+1和标志位ACK是否为1，如果正确则将标志位ACK置为1，seq=y+1,并将数据包发送给server

2. 如果只有2次握手呢？ 那可不行  假设client第一次发送了建立连接的请求，server由于网络延迟等问题没有收到，然后client1又发送了一条建立连接的请求，成功连接。然后第一次的连接服务端收到了，成功建立连接，这个连接在sever就一直在等待client的数据交互，但是客户端以为这次连接是失败的于是就放弃了，让服务端浪费很多资源！

### 四次挥手

1. 第一次：client将标志位FIN(finsh：完成)置为1，seq=x 

   第二次：server收到后将ACK置为1,ack=x+1,seq=y

   第三次：server会等待所有数据包发送完成，处于CLOSE-WAIT状态 然后发送 FIN，ACK置为1,ack=x+1,seq=y

   第四次：client将ACK置为1  ack=y+1 ,seq=x+1



## HTTP

GEH和POST的区别

```
从缓存的角度上说，GET会被浏览器主动缓存下来，留下历史记录，但是POST不会。
从编码的角度上说，GET只能进行URL编码，它只能接收ASCII字符，但是POST没有限制。所以说GET不能上传图片
从参数的角度上说，GET一般放在URL上传递参数，POST放在请求体里，更适合传递敏感信息。
G
```

请求行

```
//请求协议  请求路径  使用的http版本
GET /index http1.1
```

请求头

```
常见的请求头
Host	接收请求的服务器地址
User-Agent	发送请求的应用程序名称
Connection	指定连接的相关熟悉，如Connection:Keep-Alive
Accept-Charset	通知服务端可以发送的编码格式
Accept-Encoding 	通知服务端可以发送的数据压缩格式
Accept-Language 	通知服务端可以发送的语言

//keep-Alive
//作用是建立长连接， 建立一次TCP请求即可发送多次HTTP请求。
```

状态码

```
常见的状态码
200		请求成功
302		重定向
304		通知浏览器资源没有更新
400		请求的参数不合适
403		客户端禁止访问
404		资源没有找到
500		服务端错误
503		暂时无法访问服务器
```

响应头

```
常见的响应头
Content-Type	响应的正文内容类型（图片或者html）
Content-Length	响应正文的长度
Content-charset	响应正文的编码格式
Content-Encoding	响应正文使用的数据压缩格式
Content-language	响应正文使用的语言
```

## HTTPS的工作流程

HTTPS是HTTP的加强版+TLS

HTTPS主要是采用对称密钥加密和非对称密钥加密组合而成混合加密机制进行传输

工作流程

- 客户端首先向服务端发送一个HTTPS请求
- 服务端放回公钥证书
- 客户端收到证书后进行验证，然后客户端生成一个随机对称密钥，并通过刚才收到的公钥进行加密
- 发送加密后的对称密钥
- 通过对称密钥加密进行密文通信



对称密钥加密和非对称密钥加密的区别

对称密钥加密是最简单的加密方式，它的加密和解密使用的都是相同密钥，好处是加解密效率很快，但是如果密钥泄露谁都可以解密了。

非对称加密会有两把密钥，一把是鑫私钥，只有自己才有，一把是公钥，可以发布给任何人。并且加密的内容只有相匹配的密钥才能解。安全性高，但是加解密的效率低。



## DNS解析过程

- 当浏览器输入一个地址时，先查询浏览器器是否有缓存，有则返回ip地址，没有进入下一步
- 查询操作系统的hosts文件，看是否存在对应的域名和ip ，没有进入下一步
- 向本地域名服务器请求，如果本地域名服务器有缓存的话，直接返回，没有进入下一步
- 向根域名服务器进行查询，返回改域名的顶级域名服务器的地址，
- 本地域名服务器则发送请求到根域名服务器返回的地址，返回网站的域名服务器
- 然后本地域名则请求该域名所在的域名服务器，返回IP地址给浏览器
- 解析结束
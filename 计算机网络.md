## 计算机网络

### 三次握手

1. 第一次握手：client 将标志位SYN(Synchronized：同步的)置为1，然后生成一个数seq(sequence：序列号)=x 并将数据包发送给server,client进入SYN-SENT状态,等待server的确认

   第二次握手：server收到client请求后，将SYN和ACK( Acknowledgment：答复)标志位置为1，ack=x+1 ,然后生成一个数seq=y,并将数据包发送给client,server进入SYN-RCVD状态,

   第三次握手：client收到确认后，检查ack是否为x+1和标志位ACK是否为1，如果正确则将标志位ACK置为1，seq=y+1,并将数据包发送给server

2. 如果只有2次握手呢？ 那可不行  假设client第一次发送了建立连接的请求，server由于网络延迟等问题没有收到，然后client1又发送了一条建立连接的请求，成功连接。然后第一次的连接服务端收到了，成功建立连接，这个连接在sever就一直在等待client的数据交互，但是客户端以为这次连接是失败的于是就放弃了，让服务端浪费很多资源！

### 四次挥手

1. 第一次：client将标志位FIN(finsh：完成)置为1，seq=x 

   第二次：server收到后将ACK置为1,ack=x+1,seq=y

   第三次：server会等待所有数据包发送完成，处于CLOSE-WAIT状态 然后发送 FIN，ACK置为1,ack=x+1,seq=y

   第四次：client将ACK置为1  ack=y+1 ,seq=x+1